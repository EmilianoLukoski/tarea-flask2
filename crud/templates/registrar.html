{% extends "layout.html" %}

{% block body %}
<div class="text-center pt-5">
    <div class="card mx-auto" style="max-width: 400px;">
        <div class="card-body">
            <h1 class="card-title mb-4">Registro</h1>
            <form action="{{ url_for('registrar') }}" method="POST">
                <div class="mb-3">
                    <input type="text" name="usuario" class="form-control" placeholder="Usuario" required>
                    <div class="invalid-feedback">
                        Por favor ingrese un nombre de usuario.
                    </div>
                </div>
                <div class="mb-3">
                    <input type="password" name="password" class="form-control" placeholder="Contraseña" required>
                    <div class="invalid-feedback">
                        Por favor ingrese una contraseña.
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Registrarse</button>
            </form>
            <p class="mt-3">¿Ya tienes una cuenta? <a href="{{ url_for('login') }}">Inicia sesión</a></p>
        </div>
    </div>
</div>

<script>
document.querySelector('form').addEventListener('submit', function(e) {
    let isValid = true;
    const inputs = this.querySelectorAll('input[required]');
    
    inputs.forEach(input => {
        if (!input.value.trim()) {
            input.classList.add('is-invalid');
            isValid = false;
        } else {
            input.classList.remove('is-invalid');
        }
    });
    
    if (!isValid) {
        e.preventDefault();
    }
});

document.querySelectorAll('input').forEach(input => {
    input.addEventListener('input', function() {
        if (this.value.trim()) {
            this.classList.remove('is-invalid');
        }
    });
});
</script>
{% endblock %}
